<!DOCTYPE html>
<html lang="en" dir="ltr">

<head>
  <meta charset="utf-8" />
  <title>Task 0</title>
  <script src="https://code.jquery.com/jquery-3.7.1.slim.min.js"
    integrity="sha256-kmHvs0B+OpCW5GVHUNjv9rOmY0IvSIRcf7zGUDTDQM8=" crossorigin="anonymous"></script>
</head>

<body>
  <script>
    function createFamilyTree() {
      $('body').append(
        $('<table></table>').append(
          $('<thead></thead>').append(
            $('<tr></tr>').append('<th>Firstname</th><th>Lastname</th>')
        )
      ).append(
        $('<tbody></tbody>')
      )
    );
  }

  function addNewMember(firstName, lastname) {
    $('tbody').append(
      $('<tr></tr>').append(`<td>${firstName}</td><td>${lastname}</td>`).append(
        $('<td>(x)</td>').css('background-color', 'orange').on('click', function() {
          $(this).parent().remove();
        })
      )
    );
  }

  function createForm() {
      $('body').prepend(
        $('<form></form>').append(
          $('<input type="text" placeholder="Firstname">')
        ).append(
          $('<input type="text" placeholder="Lastname">')
        ).append(
          $('<select></select>').append(
            $('<option value="before">Before</option>')
          ).append(
            $('<option value="after">After</option>')
          )
        ).append(
          $('<input type="submit" value="Add Member">')
        ).on('submit', function (e) {
          e.preventDefault(); 

          const firstName = $(this).find('input:nth-of-type(1)').val();
          const lastName = $(this).find('input:nth-of-type(2)').val();
          const position = $(this).find('select').val();

          addNewMember(firstName, lastName, position);
        })
      );
    }
  
  createFamilyTree();
  createForm();
  </script>
</body>

</html>
